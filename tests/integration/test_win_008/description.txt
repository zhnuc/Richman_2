测试用例：test_win_008
功能模块：胜负判定
测试目标：验证游戏结束时状态正确设置

测试描述：
1. 使用preset加载双人游戏接近结束的状态
2. 触发游戏结束条件（最后一人破产）
3. 验证游戏状态正确设为结束
4. 验证所有相关状态字段的正确设置

验证内容：
- 游戏状态设为ended=true
- winner正确设置为获胜者的index
- started保持true（游戏曾经开始过）
- now_player和next_player设置正确
- 获胜者alive状态保持true

测试重点：
- 验证游戏结束状态的完整设置
- 确保所有状态字段的正确性
- 验证游戏结束时机的准确判定
