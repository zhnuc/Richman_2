# 测试用例说明清单

## 📋 文档说明

本文档包含120个测试用例的简化说明，每个测试用例包含功能模块、测试目标、测试描述和验证内容四个部分。

## 🎮 游戏流程测试（60个）

### 第一类：回合切换机制测试（18个）

#### test_turn_001 - 掷骰子后自动切换回合测试

**功能模块**：回合管理  
**测试目标**：验证掷骰子后自动切换到下一玩家回合  
**测试描述**：使用preset加载双人游戏状态，当前玩家执行step命令移动，验证移动后自动切换到下一玩家  
**验证内容**：玩家移动到指定位置，now_player和next_player正确切换，游戏状态保持不变

#### test_turn_002 - 住院状态递减测试

**功能模块**：回合管理  
**测试目标**：验证住院玩家的状态递减  
**测试描述**：使用preset加载玩家住院状态（hospital=3），执行dump命令，验证住院天数递减  
**验证内容**：hospital状态从3递减为2，玩家其他属性保持不变

#### test_turn_003 - 住院状态结束测试

**功能模块**：回合管理  
**测试目标**：验证住院状态结束时正确清零  
**测试描述**：使用preset加载玩家住院状态（hospital=1），执行dump命令，验证状态清零  
**验证内容**：hospital状态从1变为0，玩家恢复正常状态

#### test_turn_004 - 坐牢状态递减测试

**功能模块**：回合管理  
**测试目标**：验证坐牢玩家的状态递减  
**测试描述**：使用preset加载玩家坐牢状态（prison=2），执行dump命令，验证坐牢天数递减  
**验证内容**：prison状态从2递减为1，玩家其他属性保持不变

#### test_turn_005 - 坐牢状态结束测试

**功能模块**：回合管理  
**测试目标**：验证坐牢状态结束时正确清零  
**测试描述**：使用preset加载玩家坐牢状态（prison=1），执行dump命令，验证状态清零  
**验证内容**：prison状态从1变为0，玩家恢复正常状态

#### test_turn_006 - 财神状态递减测试

**功能模块**：回合管理  
**测试目标**：验证财神状态的回合递减机制  
**测试描述**：使用preset加载玩家财神状态（god=5），执行step命令，验证财神状态递减  
**验证内容**：god状态从5递减为4，玩家正常移动，其他状态不变

#### test_turn_007 - 财神状态结束测试

**功能模块**：回合管理  
**测试目标**：验证财神状态结束时正确清零  
**测试描述**：使用preset加载玩家财神状态（god=1），执行step命令，验证状态清零  
**验证内容**：god状态从1变为0，玩家失去财神效果

#### test_turn_008 - 财神+住院状态叠加测试

**功能模块**：回合管理  
**测试目标**：验证财神和住院状态同时存在时的独立递减  
**测试描述**：使用preset加载玩家同时拥有财神状态（god=3）和住院状态（hospital=2），验证各状态独立计算  
**验证内容**：god状态从3递减为2，hospital状态从2递减为1，两状态独立递减

#### test_turn_008a - 财神+坐牢状态叠加测试

**功能模块**：回合管理  
**测试目标**：验证财神和坐牢状态同时存在时的独立递减  
**测试描述**：使用preset加载玩家同时拥有财神状态（god=4）和坐牢状态（prison=2），验证各状态独立计算  
**验证内容**：god状态从4递减为3，prison状态从2递减为1，两状态独立递减

#### test_turn_008b - 监狱有炸弹优先住院测试

**功能模块**：回合管理  
**测试目标**：验证监狱位置有炸弹时，踩到后直接住院不坐牢  
**测试描述**：使用preset加载监狱位置45有炸弹的状态，玩家移动到该位置  
**验证内容**：玩家直接住院3天（hospital=3），不触发坐牢效果（prison=0），炸弹消失

#### test_turn_008c - 炸弹优先于医院效果测试

**功能模块**：回合管理  
**测试目标**：验证医院位置有炸弹时，炸弹效果优先于医院效果  
**测试描述**：使用preset加载医院位置15有炸弹的状态，玩家移动到该位置  
**验证内容**：玩家住院3天（炸弹效果），不触发医院的其他效果，炸弹消失

#### test_turn_008d - 炸弹优先于道具屋效果测试

**功能模块**：回合管理  
**测试目标**：验证道具屋位置有炸弹时，炸弹效果优先于道具屋菜单  
**测试描述**：使用preset加载道具屋位置25有炸弹的状态，玩家移动到该位置  
**验证内容**：玩家住院3天（炸弹效果），不进入道具屋菜单，炸弹消失

#### test_turn_008e - 炸弹优先于礼品屋效果测试

**功能模块**：回合管理  
**测试目标**：验证礼品屋位置有炸弹时，炸弹效果优先于礼品屋菜单  
**测试描述**：使用preset加载礼品屋位置69有炸弹的状态，玩家移动到该位置  
**验证内容**：玩家住院3天（炸弹效果），不进入礼品屋菜单，炸弹消失

#### test_turn_008f - 炸弹优先于魔法屋效果测试

**功能模块**：回合管理  
**测试目标**：验证魔法屋位置有炸弹时，炸弹效果优先于魔法屋菜单  
**测试描述**：使用preset加载魔法屋位置32有炸弹的状态，玩家移动到该位置  
**验证内容**：玩家住院3天（炸弹效果），不进入魔法屋菜单，炸弹消失

#### test_turn_008g - 炸弹优先于矿地效果测试

**功能模块**：回合管理  
**测试目标**：验证矿地位置有炸弹时，炸弹效果优先于矿地奖励  
**测试描述**：使用preset加载矿地位置有炸弹的状态，玩家移动到该位置  
**验证内容**：玩家住院3天（炸弹效果），不获得矿地点数奖励，炸弹消失

#### test_turn_009 - 掷骰子前房产交易时机测试

**功能模块**：回合管理  
**测试目标**：验证掷骰子前可以进行房产买卖操作  
**测试描述**：使用preset加载玩家拥有房产的状态，在掷骰子前出售房产，然后移动  
**验证内容**：房产成功出售，资金正确增加，玩家正常移动

#### test_turn_010 - 掷骰子前道具使用时机测试

**功能模块**：回合管理  
**测试目标**：验证掷骰子前可以使用道具  
**测试描述**：使用preset加载玩家拥有道具的状态，在掷骰子前使用路障，然后移动  
**验证内容**：道具成功放置，道具数量减少，玩家正常移动

#### test_turn_011 - 三人回合轮换测试

**功能模块**：回合管理  
**测试目标**：验证三人游戏的回合轮换机制  
**测试描述**：使用preset加载三人游戏状态，验证回合按0→1→2→0的顺序轮换  
**验证内容**：now_player从0切换到1，next_player正确更新为2

#### test_turn_012 - 四人回合轮换测试

**功能模块**：回合管理  
**测试目标**：验证四人游戏的回合轮换机制  
**测试描述**：使用preset加载四人游戏状态，验证回合按0→1→2→3→0的顺序轮换  
**验证内容**：now_player从0切换到1，next_player正确更新为2

#### test_turn_013 - 多人游戏连续跳过测试

**功能模块**：回合管理  
**测试目标**：验证多人游戏中多个玩家都需要跳过时的回合处理  
**测试描述**：使用preset加载四人游戏，其中三人分别住院、坐牢、住院，验证回合跳过逻辑  
**验证内容**：连续跳过三个特殊状态玩家，直接轮换到第四个正常玩家

#### test_turn_014 - 破产玩家立即退出回合测试

**功能模块**：回合管理  
**测试目标**：验证玩家破产后立即退出游戏流程  
**测试描述**：使用preset加载即将破产的玩家状态，执行导致破产的操作  
**验证内容**：玩家alive状态变为false，游戏状态更新，回合不再轮换到该玩家

---

### 第二类：购买询问机制测试（25个）

#### test_auto_001 - 地段1购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证资金足够时到达地段1空地弹出购买询问  
**测试描述**：使用preset加载玩家有足够资金的状态，移动到地段1空地，回答y确认购买  
**验证内容**：玩家移动到指定位置，资金扣除200元，获得0级房产

#### test_auto_002 - 地段1资金不足自动切换回合测试

**功能模块**：购买询问机制  
**测试目标**：验证资金不足时到达空地无询问且自动切换回合  
**测试描述**：使用preset加载玩家资金不足的状态，移动到地段1空地，验证自动切换到下一玩家  
**验证内容**：玩家移动到指定位置，资金保持不变，回合自动切换到下一玩家

#### test_auto_003 - 地段2购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证资金足够时到达地段2空地弹出购买询问  
**测试描述**：使用preset加载玩家有足够资金的状态，移动到地段2空地，回答y确认购买  
**验证内容**：玩家移动到指定位置，资金扣除500元，获得0级房产

#### test_auto_004 - 地段2资金不足自动切换回合测试

**功能模块**：购买询问机制  
**测试目标**：验证资金不足时到达地段2空地无询问且自动切换回合  
**测试描述**：使用preset加载玩家资金不足的状态，移动到地段2空地，验证自动切换到下一玩家  
**验证内容**：玩家移动到指定位置，资金保持不变，回合自动切换到下一玩家

#### test_auto_005 - 地段3购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证资金足够时到达地段3空地弹出购买询问  
**测试描述**：使用preset加载玩家有足够资金的状态，移动到地段3空地，回答y确认购买  
**验证内容**：玩家移动到指定位置，资金扣除300元，获得0级房产

#### test_auto_006 - 地段3资金不足自动切换回合测试

**功能模块**：购买询问机制  
**测试目标**：验证资金不足时到达地段3空地无询问且自动切换回合  
**测试描述**：使用preset加载玩家资金不足的状态，移动到地段3空地，验证自动切换到下一玩家  
**验证内容**：玩家移动到指定位置，资金保持不变，回合自动切换到下一玩家

#### test_auto_007 - 拒绝购买测试

**功能模块**：购买询问机制  
**测试目标**：验证玩家可以拒绝购买空地  
**测试描述**：使用preset加载玩家有足够资金的状态，移动到空地并回答n拒绝购买  
**验证内容**：玩家移动到指定位置，资金保持不变，回合自动切换到下一玩家

#### test_auto_008 - 房产升级询问测试

**功能模块**：购买询问机制  
**测试目标**：验证到达自己房产时资金足够弹出升级询问  
**测试描述**：使用preset加载玩家拥有0级房产且资金充足的状态，移动到该房产位置，回答y确认升级  
**验证内容**：房产等级从0升级为1，资金扣除相应升级费用

#### test_auto_009 - 房产升级资金不足自动切换回合测试

**功能模块**：购买询问机制  
**测试目标**：验证资金不足时到达自己房产无询问且自动切换回合  
**测试描述**：使用preset加载玩家资金不足但拥有房产的状态，移动到该房产位置  
**验证内容**：房产等级保持不变，资金保持不变，回合自动切换到下一玩家

#### test_auto_010 - 拒绝房产升级测试

**功能模块**：购买询问机制  
**测试目标**：验证玩家可以拒绝升级房产  
**测试描述**：使用preset加载玩家有足够资金和房产的状态，移动到房产位置并回答n拒绝升级  
**验证内容**：房产等级保持不变，资金保持不变，回合自动切换到下一玩家

#### test_auto_011 - 到达他人房产无购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证到达他人房产时不触发购买询问  
**测试描述**：使用preset加载玩家到达他人房产的状态，验证处理过路费后自动切换回合  
**验证内容**：玩家移动到指定位置，支付过路费，房产所有权保持不变，回合自动切换

#### test_auto_012 - 到达道具屋无购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证到达道具屋（位置25）时无购买询问，正确进入道具屋菜单  
**测试描述**：使用preset加载玩家移动到位置25的状态，验证进入道具屋而非购买询问  
**验证内容**：玩家移动到位置25，无购买询问，进入道具屋特殊状态

#### test_auto_013 - 到达医院无特殊效果测试

**功能模块**：购买询问机制  
**测试目标**：验证到达医院（位置15）时无购买询问，无特殊效果，正常切换回合  
**测试描述**：使用preset加载玩家移动到位置15的状态，验证无任何特殊处理  
**验证内容**：玩家移动到位置15，无购买询问，无特殊效果，回合正常切换

#### test_auto_014 - 到达监狱无购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证到达监狱（位置45）时无购买询问，正确触发坐牢效果  
**测试描述**：使用preset加载玩家移动到位置45的状态，验证触发坐牢而非购买询问  
**验证内容**：玩家移动到位置45，无购买询问，prison状态设为2

#### test_auto_015 - 到达礼品屋无购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证到达礼品屋（位置69）时无购买询问，正确进入礼品屋菜单  
**测试描述**：使用preset加载玩家移动到位置69的状态，验证进入礼品屋而非购买询问  
**验证内容**：玩家移动到位置69，无购买询问，进入礼品屋特殊状态

#### test_auto_016 - 到达魔法屋无购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证到达魔法屋（位置32）时无购买询问，正确进入魔法屋菜单  
**测试描述**：使用preset加载玩家移动到位置32的状态，验证进入魔法屋而非购买询问  
**验证内容**：玩家移动到位置32，无购买询问，进入魔法屋特殊状态

#### test_auto_017 - 到达矿地无购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证到达矿地时无购买询问，正确获得点数奖励  
**测试描述**：使用preset加载玩家移动到矿地位置的状态，验证获得点数而非购买询问  
**验证内容**：玩家移动到矿地位置，无购买询问，点数正确增加

#### test_auto_018 - 房产最高等级无升级询问测试

**功能模块**：购买询问机制  
**测试目标**：验证房产达到最高等级时无升级询问且自动切换回合  
**测试描述**：使用preset加载玩家拥有3级房产的状态，移动到该房产位置  
**验证内容**：房产等级保持3级，资金保持不变，回合自动切换到下一玩家

#### test_auto_019 - 到达有炸弹的空地优先级测试

**功能模块**：购买询问机制  
**测试目标**：验证踩到炸弹后住院，不触发购买询问  
**测试描述**：使用preset加载玩家移动到有炸弹的空地位置，验证先触发炸弹效果  
**验证内容**：玩家住院3天，炸弹消失，无购买询问，位置正确

#### test_auto_020 - 被路障阻挡停在空地位置购买询问测试

**功能模块**：购买询问机制  
**测试目标**：验证被路障阻挡停在空地位置且资金足够时触发购买询问  
**测试描述**：使用preset加载玩家移动路径有路障且路障位置是空地的场景，验证阻挡后的购买询问  
**验证内容**：玩家停在路障位置（空地），路障消失，资金足够时触发购买询问

#### test_auto_021 - 被路障阻挡停在非空地位置测试

**功能模块**：购买询问机制  
**测试目标**：验证被路障阻挡停在非空地位置时无购买询问  
**测试描述**：使用preset加载玩家移动路径有路障且路障位置是他人房产或特殊建筑的场景  
**验证内容**：玩家停在路障位置，路障消失，触发该位置的正常效果（过路费或特殊建筑效果）

#### test_auto_022 - 支付过路费后资金不足购买测试

**功能模块**：购买询问机制  
**测试目标**：验证支付过路费后资金不足时无购买询问  
**测试描述**：使用preset加载玩家经过他人房产后到达空地，验证资金变化后的购买询问  
**验证内容**：先支付过路费，资金不足后无购买询问，回合自动切换

#### test_auto_023 - 财神状态免疫过路费后购买测试

**功能模块**：购买询问机制  
**测试目标**：验证财神状态免疫过路费后仍可触发购买询问  
**测试描述**：使用preset加载财神状态玩家经过他人房产后到达空地，验证购买询问  
**验证内容**：不支付过路费，财神状态递减，资金充足时弹出购买询问

#### test_auto_024 - 环形移动到达空地购买测试

**功能模块**：购买询问机制  
**测试目标**：验证位置环形计算后到达空地的购买询问  
**测试描述**：使用preset加载玩家从位置69移动到位置0附近空地的场景  
**验证内容**：位置正确环形计算，到达空地后正确弹出购买询问

#### test_auto_025 - 购买成功后状态更新测试

**功能模块**：购买询问机制  
**测试目标**：验证购买成功后所有相关状态正确更新  
**测试描述**：使用preset加载购买场景，回答y确认购买，验证状态完整更新  
**验证内容**：玩家资金正确扣除，房产所有权正确设置，回合自动切换

---

### 第三类：胜负判定测试（10个）

#### test_win_001 - 破产条件精确判定测试

**功能模块**：胜负判定  
**测试目标**：验证扣除过路费后资金小于0的破产判定  
**测试描述**：使用preset加载即将破产的玩家状态，执行导致破产的操作  
**验证内容**：玩家资金变为负数，alive状态变为false，游戏状态可能结束

#### test_win_002 - 资金等于0不破产测试

**功能模块**：胜负判定  
**测试目标**：验证资金恰好等于0时玩家不破产  
**测试描述**：使用preset加载玩家资金刚好等于即将支付费用的状态  
**验证内容**：玩家资金变为0，alive状态保持true，游戏继续进行

#### test_win_003 - 掷骰子前出售房产避免破产测试

**功能模块**：胜负判定  
**测试目标**：验证玩家可在掷骰子前通过出售房产避免破产  
**测试描述**：使用preset加载资金不足但有房产的玩家状态，先出售房产再移动  
**验证内容**：房产成功出售，资金增加，避免破产，游戏继续

#### test_win_004 - 掷骰子后无法出售房产导致破产测试

**功能模块**：胜负判定  
**测试目标**：验证掷骰子后无法通过出售房产避免破产  
**测试描述**：使用preset加载即将破产的玩家状态，掷骰子后触发过路费导致破产  
**验证内容**：玩家破产，无法在支付过路费时出售房产

#### test_win_005 - 多人游戏中单人破产测试

**功能模块**：胜负判定  
**测试目标**：验证多人游戏中单个玩家破产的处理  
**测试描述**：使用preset加载多人游戏状态，使其中一人破产，其他人继续游戏  
**验证内容**：破产玩家退出，其他玩家继续，回合正确调整

#### test_win_006 - 最后一人存活时获胜测试

**功能模块**：胜负判定  
**测试目标**：验证最后一人存活时立即获胜  
**测试描述**：使用preset加载接近游戏结束的状态，使倒数第二人破产  
**验证内容**：最后存活玩家立即获胜，游戏状态设为结束，winner正确设置

#### test_win_007 - 破产玩家房产自动回收测试

**功能模块**：胜负判定  
**测试目标**：验证玩家破产后其房产自动回收为无主的空地  
**测试描述**：使用preset加载一位拥有房产的玩家破产场景  
**验证内容**：玩家破产后，其拥有的所有房产清空，变回空地状态

#### test_win_008 - 游戏结束状态设置测试

**功能模块**：胜负判定  
**测试目标**：验证游戏结束时状态正确设置  
**测试描述**：使用preset加载接近游戏结束的状态，触发游戏结束条件  
**验证内容**：游戏状态设为ended=true，winner正确设置，started保持true

#### test_win_009 - 连续破产处理测试

**功能模块**：胜负判定  
**测试目标**：验证多人游戏中玩家依次破产的处理  
**测试描述**：使用preset加载三人游戏中两人资金都很少的状态，验证连续破产处理  
**验证内容**：玩家按回合顺序依次破产，最后一人获胜，游戏状态正确更新

---

### 第四类：特殊状态交互测试（7个）

#### test_status_001 - 财神状态免疫过路费测试

**功能模块**：特殊状态交互  
**测试目标**：验证财神状态下玩家免疫过路费  
**测试描述**：使用preset加载玩家拥有财神状态，移动到他人高级房产位置  
**验证内容**：玩家资金不因过路费减少，财神状态正常递减

#### test_status_002 - 财神状态不免疫炸弹住院测试

**功能模块**：特殊状态交互  
**测试目标**：验证财神状态不免疫炸弹伤害和住院效果  
**测试描述**：使用preset加载玩家拥有财神状态，移动到有炸弹的位置  
**验证内容**：玩家正常住院，财神和住院状态同时存在

#### test_status_003 - 住院期间房产不收过路费测试

**功能模块**：特殊状态交互  
**测试目标**：验证住院期间玩家房产不收取过路费  
**测试描述**：使用preset加载房产主人住院的状态，其他玩家经过该房产  
**验证内容**：经过玩家不支付过路费，房产主人资金不增加

#### test_status_005 - 坐牢期间房产不收过路费测试

**功能模块**：特殊状态交互  
**测试目标**：验证坐牢期间玩家房产不收取过路费  
**测试描述**：使用preset加载房产主人坐牢的状态，其他玩家经过该房产  
**验证内容**：经过玩家不支付过路费，房产主人资金不增加

#### test_status_005 - 炸弹优先于过路费测试

**功能模块**：特殊状态交互  
**测试目标**：验证踩到他人房产上的炸弹时，炸弹效果优先于过路费  
**测试描述**：使用preset加载他人房产位置有炸弹的状态，玩家移动到该位置  
**验证内容**：玩家住院3天，不支付过路费，炸弹消失

#### test_status_006 - 财神状态与炸弹效果测试

**功能模块**：特殊状态交互  
**测试目标**：验证财神状态下踩到炸弹仍会住院  
**测试描述**：使用preset加载玩家拥有财神状态，移动到炸弹位置  
**验证内容**：玩家住院3天，财神状态保持并递减，炸弹消失

#### test_status_007 - 财神状态与购买询问测试

**功能模块**：特殊状态交互  
**测试目标**：验证财神状态下到达空地的购买询问正常触发  
**测试描述**：使用preset加载玩家拥有财神状态，移动到空地位置  
**验证内容**：财神状态递减，资金充足时正常弹出购买询问，购买成功

---

### 第五类：复杂交互测试（13个）

#### test_interaction_001 - 机器娃娃清除道具效果测试

**功能模块**：复杂交互  
**测试目标**：验证机器娃娃清除前方10步内所有道具  
**测试描述**：使用preset加载前方有多个道具的状态，使用机器娃娃清除  
**验证内容**：指定范围内所有道具被清除，机器娃娃消耗，地图状态更新

#### test_interaction_002 - 道具放置位置限制测试

**功能模块**：复杂交互  
**测试目标**：验证道具不能放置在有玩家的位置  
**测试描述**：使用preset加载多玩家场景，尝试在其他玩家位置放置道具  
**验证内容**：道具放置失败，道具数量不减少，地图状态不变

#### test_interaction_003 - 同位置不能重复放置道具测试

**功能模块**：复杂交互  
**测试目标**：验证同一位置不能放置多个道具  
**测试描述**：使用preset加载已有道具的位置，尝试再次放置道具  
**验证内容**：第二次放置失败，道具数量不减少，原有道具保持

#### test_interaction_004 - 道具总数10个限制测试

**功能模块**：复杂交互  
**测试目标**：验证玩家道具总数不能超过10个  
**测试描述**：使用preset加载玩家已有10个道具的状态，尝试购买更多道具  
**验证内容**：购买失败，道具数量保持10个，资金/点数不变

#### test_interaction_005 - 到达医院无特殊效果测试

**功能模块**：复杂交互  
**测试目标**：验证玩家到达医院位置15时无特殊效果发生  
**测试描述**：使用preset加载玩家移动到医院位置15的状态  
**验证内容**：玩家位置更新为15，无任何特殊状态变化，回合正常进行

#### test_interaction_006 - 到达监狱自动坐牢测试

**功能模块**：复杂交互  
**测试目标**：验证玩家到达监狱位置自动坐牢2天  
**测试描述**：使用preset加载玩家移动到监狱位置45的状态  
**验证内容**：玩家prison状态设为2，位置更新为45

#### test_interaction_007 - 礼品屋选择奖金测试

**功能模块**：复杂交互  
**测试目标**：验证礼品屋选择奖金礼品的效果应用  
**测试描述**：使用preset加载玩家到达礼品屋位置69，选择奖金礼品  
**验证内容**：玩家资金增加2000元，位置更新为69

#### test_interaction_007a - 礼品屋选择点数卡测试

**功能模块**：复杂交互  
**测试目标**：验证礼品屋选择点数卡礼品的效果应用  
**测试描述**：使用preset加载玩家到达礼品屋位置69，选择点数卡礼品  
**验证内容**：玩家点数增加200点，位置更新为69

#### test_interaction_007b - 礼品屋选择财神测试

**功能模块**：复杂交互  
**测试目标**：验证礼品屋选择财神礼品的效果应用  
**测试描述**：使用preset加载玩家到达礼品屋位置69，选择财神礼品  
**验证内容**：玩家god状态设为5，位置更新为69

#### test_interaction_008 - 位置环形计算测试

**功能模块**：复杂交互  
**测试目标**：验证位置69+1正确环形计算到位置0  
**测试描述**：使用preset加载玩家在位置69，执行step 1命令  
**验证内容**：玩家位置从69更新为0，环形计算正确

#### test_interaction_009 - 矿地点数奖励测试

**功能模块**：复杂交互  
**测试目标**：验证玩家到达矿地位置获得点数奖励  
**测试描述**：使用preset加载玩家移动到矿地位置的状态  
**验证内容**：玩家位置更新，点数正确增加相应奖励

#### test_interaction_010 - 路障阻挡在监狱位置测试

**功能模块**：复杂交互  
**测试目标**：验证被路障阻挡停在监狱位置时的效果处理  
**测试描述**：使用preset加载玩家移动路径在监狱位置45有路障的场景  
**验证内容**：玩家被阻挡停在位置45，路障消失，触发坐牢效果（prison=2）

#### test_interaction_011 - 路障阻挡在礼品屋位置测试

**功能模块**：复杂交互  
**测试目标**：验证被路障阻挡停在礼品屋位置时的效果处理  
**测试描述**：使用preset加载玩家移动路径在礼品屋位置69有路障的场景  
**验证内容**：玩家被阻挡停在位置69，路障消失，进入礼品屋菜单

#### test_interaction_012 - 路障阻挡在道具屋位置测试

**功能模块**：复杂交互  
**测试目标**：验证被路障阻挡停在道具屋位置时的效果处理  
**测试描述**：使用preset加载玩家移动路径在道具屋位置25有路障的场景  
**验证内容**：玩家被阻挡停在位置25，路障消失，进入道具屋菜单

#### test_interaction_013 - 路障阻挡在矿地位置测试

**功能模块**：复杂交互  
**测试目标**：验证被路障阻挡停在矿地位置时的效果处理  
**测试描述**：使用preset加载玩家移动路径在矿地位置有路障的场景  
**验证内容**：玩家被阻挡停在矿地位置，路障消失，获得相应点数奖励

---

## 🚧 边界条件测试（39个）

### 第一类：输入验证测试（26个）

#### test_input_001 - 完全无效命令处理测试

**功能模块**：输入验证  
**测试目标**：验证输入完全无效命令时的错误处理  
**测试描述**：在正常游戏状态下输入完全无效的命令，验证系统处理  
**验证内容**：游戏状态不发生任何改变，保持原有状态

#### test_input_002 - 道具屋中输入roll命令测试

**功能模块**：输入验证  
**测试目标**：验证在道具屋菜单状态下输入roll命令的处理  
**测试描述**：使用preset加载玩家在道具屋状态，输入roll命令  
**验证内容**：命令无效，保持在道具屋菜单状态，游戏状态不变

#### test_input_002a - 道具屋中输入step命令测试

**功能模块**：输入验证  
**测试目标**：验证在道具屋菜单状态下输入step命令的处理  
**测试描述**：使用preset加载玩家在道具屋状态，输入step 3命令  
**验证内容**：命令无效，保持在道具屋菜单状态，游戏状态不变

#### test_input_002b - 道具屋中输入block命令测试

**功能模块**：输入验证  
**测试目标**：验证在道具屋菜单状态下输入block命令的处理  
**测试描述**：使用preset加载玩家在道具屋状态，输入block 5命令  
**验证内容**：命令无效，保持在道具屋菜单状态，游戏状态不变

#### test_input_002c - 道具屋中输入buy命令测试

**功能模块**：输入验证  
**测试目标**：验证在道具屋菜单状态下输入buy命令的处理  
**测试描述**：使用preset加载玩家在道具屋状态，输入buy命令  
**验证内容**：命令无效，保持在道具屋菜单状态，游戏状态不变

#### test_input_002d - 礼品屋中输入roll命令测试

**功能模块**：输入验证  
**测试目标**：验证在礼品屋菜单状态下输入roll命令的处理  
**测试描述**：使用preset加载玩家在礼品屋状态，输入roll命令  
**验证内容**：命令无效，保持在礼品屋菜单状态，游戏状态不变

#### test_input_002e - 礼品屋中输入step命令测试

**功能模块**：输入验证  
**测试目标**：验证在礼品屋菜单状态下输入step命令的处理  
**测试描述**：使用preset加载玩家在礼品屋状态，输入step 5命令  
**验证内容**：命令无效，保持在礼品屋菜单状态，游戏状态不变

#### test_input_002f - 礼品屋中输入block命令测试

**功能模块**：输入验证  
**测试目标**：验证在礼品屋菜单状态下输入block命令的处理  
**测试描述**：使用preset加载玩家在礼品屋状态，输入block 3命令  
**验证内容**：命令无效，保持在礼品屋菜单状态，游戏状态不变

#### test_input_002g - 正常游戏中输入数字1测试

**功能模块**：输入验证  
**测试目标**：验证在正常游戏状态下输入数字1的处理  
**测试描述**：在正常游戏状态下输入1（道具屋选择命令）  
**验证内容**：命令无效，游戏状态不变，错误处理正确

#### test_input_002h - 正常游戏中输入数字2测试

**功能模块**：输入验证  
**测试目标**：验证在正常游戏状态下输入数字2的处理  
**测试描述**：在正常游戏状态下输入2（道具屋选择命令）  
**验证内容**：命令无效，游戏状态不变，错误处理正确

#### test_input_002i - 正常游戏中输入数字3测试

**功能模块**：输入验证  
**测试目标**：验证在正常游戏状态下输入数字3的处理  
**测试描述**：在正常游戏状态下输入3（道具屋选择命令）  
**验证内容**：命令无效，游戏状态不变，错误处理正确

#### test_input_002j - 正常游戏中输入字母F测试

**功能模块**：输入验证  
**测试目标**：验证在正常游戏状态下输入字母F的处理  
**测试描述**：在正常游戏状态下输入F（道具屋退出命令）  
**验证内容**：命令无效，游戏状态不变，错误处理正确

#### test_input_002k - 输入随机字母组合测试

**功能模块**：输入验证  
**测试目标**：验证输入随机字母组合的处理  
**测试描述**：在正常游戏状态下输入abc、xyz等随机字母组合  
**验证内容**：无效输入被正确处理，游戏状态稳定

#### test_input_002l - 输入随机数字组合测试

**功能模块**：输入验证  
**测试目标**：验证输入随机数字组合的处理  
**测试描述**：在正常游戏状态下输入123456、999等随机数字组合  
**验证内容**：无效输入被正确处理，游戏状态稳定

#### test_input_002m - 输入特殊符号测试

**功能模块**：输入验证  
**测试目标**：验证输入特殊符号的处理  
**测试描述**：在正常游戏状态下输入@#$%、***等特殊符号  
**验证内容**：无效输入被正确处理，游戏状态稳定

#### test_input_002n - 输入超长字符串测试

**功能模块**：输入验证  
**测试目标**：验证输入超长字符串的处理  
**测试描述**：在正常游戏状态下输入很长的字符串（如100个字符）  
**验证内容**：超长输入被正确处理，游戏状态稳定

#### test_input_002o - 输入空字符串测试

**功能模块**：输入验证  
**测试目标**：验证输入空字符串或空格的处理  
**测试描述**：在正常游戏状态下输入空字符串或只有空格的内容  
**验证内容**：空输入被正确处理，游戏状态稳定

#### test_input_006 - step命令参数0测试

**功能模块**：输入验证  
**测试目标**：验证step命令参数为0的处理  
**测试描述**：在正常游戏状态下输入step 0命令  
**验证内容**：游戏状态不变，玩家位置保持不变

#### test_input_006a - step命令负数参数测试

**功能模块**：输入验证  
**测试目标**：验证step命令参数为负数的处理  
**测试描述**：在正常游戏状态下输入step -1、step -5等负数参数  
**验证内容**：命令无效，游戏状态不变，玩家位置保持不变

#### test_input_006b - block命令超出范围测试

**功能模块**：输入验证  
**测试目标**：验证block命令参数超出前后10步范围的处理  
**测试描述**：在正常游戏状态下输入block 15、block -15等超出范围参数  
**验证内容**：命令无效，游戏状态不变，道具数量不减少

#### test_input_006c - bomb命令超出范围测试

**功能模块**：输入验证  
**测试目标**：验证bomb命令参数超出前后10步范围的处理  
**测试描述**：在正常游戏状态下输入bomb 20、bomb -20等超出范围参数  
**验证内容**：命令无效，游戏状态不变，道具数量不减少

#### test_input_006d - sell命令超出地图范围测试

**功能模块**：输入验证  
**测试目标**：验证sell命令参数超出地图范围的处理  
**测试描述**：在正常游戏状态下输入sell 100、sell -1等超出0-69范围的参数  
**验证内容**：命令无效，游戏状态不变，房产状态不变

#### test_input_006e - sell命令无主空地测试

**功能模块**：输入验证  
**测试目标**：验证sell命令尝试出售无主空地的处理  
**测试描述**：使用preset加载状态，尝试出售一块无主的空地位置  
**验证内容**：命令无效，游戏状态不变，空地状态保持

#### test_input_006f - sell命令特殊位置测试

**功能模块**：输入验证  
**测试目标**：验证sell命令尝试出售特殊位置的处理  
**测试描述**：在正常游戏状态下输入sell 25（道具屋）、sell 45（监狱）等特殊位置  
**验证内容**：命令无效，游戏状态不变，特殊位置不受影响

#### test_input_006g - sell命令他人房产测试

**功能模块**：输入验证  
**测试目标**：验证sell命令尝试出售他人房产的处理  
**测试描述**：使用preset加载状态，尝试出售属于其他玩家的房产位置  
**验证内容**：命令无效，游戏状态不变，他人房产所有权保持

#### test_input_007 - step命令参数缺失测试

**功能模块**：输入验证  
**测试目标**：验证step命令缺少参数时的处理  
**测试描述**：在正常游戏状态下输入step（无参数）  
**验证内容**：命令无效，游戏状态不变，玩家位置保持不变

#### test_input_007a - block命令参数缺失测试

**功能模块**：输入验证  
**测试目标**：验证block命令缺少参数时的处理  
**测试描述**：在正常游戏状态下输入block（无参数）  
**验证内容**：命令无效，游戏状态不变，道具数量不变

#### test_input_007b - bomb命令参数缺失测试

**功能模块**：输入验证  
**测试目标**：验证bomb命令缺少参数时的处理  
**测试描述**：在正常游戏状态下输入bomb（无参数）  
**验证内容**：命令无效，游戏状态不变，道具数量不变

#### test_input_007c - sell命令参数缺失测试

**功能模块**：输入验证  
**测试目标**：验证sell命令缺少参数时的处理  
**测试描述**：在正常游戏状态下输入sell（无参数）  
**验证内容**：命令无效，游戏状态不变，房产状态不变

#### test_input_008 - 道具放置在玩家位置测试

**功能模块**：输入验证  
**测试目标**：验证尝试在其他玩家位置放置道具的处理  
**测试描述**：多玩家场景下尝试在他人位置放置道具  
**验证内容**：道具放置失败，道具数量不减少，位置限制有效

#### test_input_009 - 道具放置在自己位置测试

**功能模块**：输入验证  
**测试目标**：验证尝试在自己当前位置放置道具的处理  
**测试描述**：在当前位置尝试放置炸弹或路障  
**验证内容**：道具放置失败，道具数量不减少，自我保护有效

#### test_input_010 - 重复位置放置道具测试

**功能模块**：输入验证  
**测试目标**：验证尝试在已有道具位置再次放置道具的处理  
**测试描述**：在已有炸弹的位置尝试放置路障  
**验证内容**：道具放置失败，原有道具保持，新道具不消耗

#### test_input_011 - 道具数量达到上限购买测试

**功能模块**：输入验证  
**测试目标**：验证道具总数达到10个时继续购买的处理  
**测试描述**：玩家已有10个道具时尝试在道具屋购买更多  
**验证内容**：购买失败，道具数量保持10，点数/资金不变

#### test_input_012 - 购买询问中输入无效命令测试

**功能模块**：输入验证  
**测试目标**：验证在购买询问状态下输入无效命令的处理  
**测试描述**：使用preset加载玩家有足够资金的状态，step到空地触发购买询问，然后输入roll等无效命令  
**验证内容**：命令无效，保持在询问状态，等待正确的y/n回应

#### test_input_013 - 升级询问中输入无效命令测试

**功能模块**：输入验证  
**测试目标**：验证在升级询问状态下输入无效命令的处理  
**测试描述**：使用preset加载玩家有足够资金且拥有房产的状态，step到自己房产触发升级询问，然后输入block等无效命令  
**验证内容**：命令无效，保持在询问状态，等待正确的y/n回应



---

### 第二类：资源边界测试（9个）

#### test_resource_001 - 道具总数边界测试

**功能模块**：资源边界  
**测试目标**：验证道具总数达到10个的严格限制  
**测试描述**：玩家拥有不同组合的道具总计10个时的状态  
**验证内容**：道具总数为10，各类道具数量正确，total字段准确

#### test_resource_002 - 玩家点数无上限验证（disabled）

**功能模块**：资源边界  
**测试目标**：验证玩家点数可以无限增长  
**测试描述**：玩家获得大量点数时的状态变化（暂时disabled，待后续实现）  
**验证内容**：点数正确累加，无上限限制，其他状态不受影响

#### test_resource_003 - 房产最高等级无升级询问测试

**功能模块**：资源边界  
**测试目标**：验证3级房产即使资金充足也不触发升级询问  
**测试描述**：使用preset加载玩家拥有3级房产且资金充足的状态，step到该房产位置  
**验证内容**：房产等级保持3，无升级询问，回合自动切换

#### test_resource_004 - step命令无限制验证

**功能模块**：资源边界  
**测试目标**：验证step命令的步数无上限限制  
**测试描述**：使用step 100等大数值移动的状态  
**验证内容**：玩家正确移动到计算后的位置，环形计算正确

#### test_resource_005 - 位置环形边界测试

**功能模块**：资源边界  
**测试目标**：验证位置69+1正确环形到位置0  
**测试描述**：从各种位置进行超出69的移动测试  
**验证内容**：位置计算正确环形，不出现负数或超出69的位置

#### test_resource_006 - 道具放置范围精确测试

**功能模块**：资源边界  
**测试目标**：验证道具放置前后10步的精确范围计算  
**测试描述**：在各种位置测试道具放置的有效范围  
**验证内容**：范围计算精确，考虑环形地图的边界情况

#### test_resource_007 - 地图道具数量无理论限制测试

**功能模块**：资源边界  
**测试目标**：验证地图上可同时存在大量道具  
**测试描述**：多个玩家在地图上放置大量道具的状态  
**验证内容**：道具正确分布，地图状态准确记录，无数量限制

#### test_resource_008 - 特殊建筑位置无人时可放置道具测试

**功能模块**：资源边界  
**测试目标**：验证特殊建筑位置无人时可以正常放置道具  
**测试描述**：在无人的特殊建筑位置（如道具屋25、监狱45等）放置道具  
**验证内容**：道具成功放置，特殊建筑位置可以有道具，道具数量正确减少

#### test_resource_009 - 多玩家同位置处理测试

**功能模块**：资源边界  
**测试目标**：验证多个玩家到达同一位置的状态处理  
**测试描述**：多玩家可能同时在同一位置的状态  
**验证内容**：所有玩家位置正确记录，状态独立计算

---

### 第三类：状态异常测试（5个）

#### test_state_001 - 多玩家状态同步测试

**功能模块**：状态异常  
**测试目标**：验证多玩家游戏中状态的同步性  
**测试描述**：使用preset加载多玩家复杂交互场景，验证各玩家状态一致性  
**验证内容**：所有玩家状态正确更新，无状态冲突

#### test_state_002 - 特殊状态记录准确性测试

**功能模块**：状态异常  
**测试目标**：验证住院/坐牢/财神状态的正确记录  
**测试描述**：使用preset加载各种特殊状态组合，验证JSON记录准确性  
**验证内容**：buff字段中各状态值准确，递减计算正确

#### test_state_003 - 房产所有权一致性测试

**功能模块**：状态异常  
**测试目标**：验证房产所有权与玩家状态的一致性  
**测试描述**：使用preset加载房产买卖场景，验证所有权信息一致性  
**验证内容**：houses中的owner与玩家状态完全一致

#### test_state_004 - 破产后房产自动回收测试

**功能模块**：状态异常  
**测试目标**：验证玩家破产后房产自动回收机制  
**测试描述**：使用preset加载破产场景，验证房产清理机制  
**验证内容**：破产玩家的所有房产从houses中移除

#### test_state_005 - 回合信息准确维护测试

**功能模块**：状态异常  
**测试目标**：验证回合信息的准确维护和更新  
**测试描述**：使用preset加载复杂回合场景，验证回合信息准确性  
**验证内容**：now_player和next_player信息完全正确

---


---

## 🎪 特殊场景测试（17个）

### 第一类：大量道具场景测试（6个）

#### test_special_001 - 地图道具密集分布测试

**功能模块**：特殊场景  
**测试目标**：验证地图上同时存在大量炸弹和路障的处理  
**测试描述**：多个玩家在地图上放置大量道具的复杂场景  
**验证内容**：所有道具正确记录，地图状态准确，性能稳定

#### test_special_002 - 多玩家道具上限测试

**功能模块**：特殊场景  
**测试目标**：验证多个玩家同时拥有接近10个道具的状态  
**测试描述**：所有玩家都接近道具上限的游戏状态  
**验证内容**：每个玩家道具数量准确，总计算正确

#### test_special_003 - 机器娃娃大范围清除测试

**功能模块**：特殊场景  
**测试目标**：验证机器娃娃清除大量道具的效果  
**测试描述**：在道具密集区域使用机器娃娃清除的效果  
**验证内容**：指定范围内所有道具被清除，地图状态正确更新

#### test_special_004 - 机器娃娃清除路径中炸弹测试

**功能模块**：特殊场景  
**测试目标**：验证机器娃娃清除前方路径中的炸弹道具  
**测试描述**：使用preset加载玩家前方10步内有多个炸弹的状态，使用机器娃娃清除  
**验证内容**：前方10步内所有炸弹被清除，机器娃娃消耗，placed_prop中炸弹记录清空

#### test_special_005 - 出院后再次踩炸弹测试

**功能模块**：特殊场景  
**测试目标**：验证玩家住院位置有炸弹时，出院后自动再次炸伤入院  
**测试描述**：使用preset加载玩家住院在医院位置15且该位置有炸弹，住院状态为1即将结束  
**验证内容**：住院状态从1变为0后立即变为3，炸弹消失，玩家重新住院

#### test_special_006 - 路障密集阻挡测试

**功能模块**：特殊场景  
**测试目标**：验证路障密集区域的移动限制效果  
**测试描述**：玩家在路障密集区域的移动和阻挡效果  
**验证内容**：移动被正确阻挡，路障效果准确，位置更新正确


---

### 第二类：极端游戏状态测试（6个）

#### test_extreme_001 - 地产垄断场景测试

**功能模块**：极端状态  
**测试目标**：验证一个玩家拥有大部分地产的垄断场景  
**测试描述**：单个玩家拥有多数房产且全部高等级的状态  
**验证内容**：房产所有权正确，过路费计算准确，游戏平衡性

#### test_extreme_002 - 全员特殊状态测试

**功能模块**：极端状态  
**测试目标**：验证所有玩家都处于特殊状态的游戏继续  
**测试描述**：所有玩家同时住院/坐牢/财神的复杂状态  
**验证内容**：游戏能正常继续，状态正确递减，回合正确处理

#### test_extreme_003 - 全地产最高等级测试

**功能模块**：极端状态  
**测试目标**：验证房产全部升级到最高等级的高收益场景  
**测试描述**：地图上大部分房产都是3级摩天楼的状态  
**验证内容**：过路费计算正确，游戏平衡稳定，状态记录准确

#### test_extreme_004 - 快速房产交易测试

**功能模块**：极端状态  
**测试目标**：验证快速连续的房产买卖操作处理  
**测试描述**：玩家在一个回合内进行多次房产买卖的场景  
**验证内容**：所有交易正确处理，资金计算准确，房产状态正确

#### test_extreme_005 - 频繁特殊建筑触发测试

**功能模块**：极端状态  
**测试目标**：验证频繁触发特殊建筑效果的处理  
**测试描述**：玩家短期内多次经过各种特殊建筑的效果  
**验证内容**：所有特殊效果正确触发，状态累积准确

#### test_extreme_006 - 复杂多玩家交替状态测试

**功能模块**：极端状态  
**测试目标**：验证复杂的多玩家交替特殊状态场景  
**测试描述**：多玩家轮流进入和退出各种特殊状态的复杂游戏  
**验证内容**：所有玩家状态独立准确，交替效果正确

---

### 第三类：压力边界测试（5个）

#### test_stress_001 - JSON复杂度极限测试

**功能模块**：压力测试  
**测试目标**：验证JSON数据结构的复杂度处理极限  
**测试描述**：包含大量玩家、房产、道具的复杂JSON状态  
**验证内容**：JSON结构完整，序列化正确，数据无丢失

#### test_stress_002 - 游戏状态最大复杂度测试

**功能模块**：压力测试  
**测试目标**：验证游戏状态的最大复杂度处理能力  
**测试描述**：四人满员、满地产、满道具的最复杂游戏状态  
**验证内容**：所有状态正确维护，计算准确，性能稳定

#### test_stress_003 - 财神+住院+大量道具状态测试

**功能模块**：压力测试  
**测试目标**：验证玩家同时拥有财神状态、住院状态和接近10个道具的复杂状态  
**测试描述**：使用preset加载玩家拥有财神状态（god=3）、住院状态（hospital=2）、道具总数9个的复杂状态  
**验证内容**：各状态独立正确维护，财神和住院状态正确递减，道具数量准确

#### test_stress_004 - 破产玩家拥有大量房产测试

**功能模块**：压力测试  
**测试目标**：验证拥有大量房产的玩家破产后的房产回收处理  
**测试描述**：使用preset加载玩家拥有20个以上房产但即将破产的状态，执行导致破产的操作  
**验证内容**：玩家破产后所有房产从houses中清除，房产数量庞大但处理正确

#### test_stress_005 - 多状态同时结束恢复测试

**功能模块**：压力测试  
**测试目标**：验证财神、住院状态同时结束时的状态恢复  
**测试描述**：使用preset加载玩家财神状态（god=1）和住院状态（hospital=1）同时即将结束的状态  
**验证内容**：两个状态同时从1变为0，玩家完全恢复正常状态

---

## 📊 测试用例总结

**总计128个测试用例**：
- 🎮 游戏流程测试：72个
- 🚧 边界条件测试：39个  
- 🎪 特殊场景测试：17个

每个测试用例都包含：
1. **功能模块**：明确测试领域
2. **测试目标**：具体验证内容
3. **测试描述**：详细测试步骤
4. **验证内容**：JSON状态验证要点
