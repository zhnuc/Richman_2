# 测试用例缺失清单

## 📊 概述

**原缺失测试用例**：50 个  
**已排除（魔法屋、监狱、医院、炸弹相关）**：30 个  
**仍需补充的测试用例**：**20 个**  

---

## 🎯 需要补充的测试用例（20个）

### 一、复杂交互测试（3个）

#### 1. test_interaction_002 - 道具放置位置限制测试

**功能模块**：复杂交互  
**测试目标**：验证道具不能放置在有玩家的位置  
**测试描述**：使用preset加载多玩家场景，尝试在其他玩家位置放置道具  
**验证内容**：道具放置失败，道具数量不减少，地图状态不变

#### 2. test_interaction_003 - 同位置不能重复放置道具测试

**功能模块**：复杂交互  
**测试目标**：验证同一位置不能放置多个道具  
**测试描述**：使用preset加载已有道具的位置，尝试再次放置道具  
**验证内容**：第二次放置失败，道具数量不减少，原有道具保持

#### 3. test_interaction_004 - 道具总数10个限制测试

**功能模块**：复杂交互  
**测试目标**：验证玩家道具总数不能超过10个  
**测试描述**：使用preset加载玩家已有10个道具的状态，尝试购买更多道具  
**验证内容**：购买失败，道具数量保持10个，点数/资金不变

---

### 二、状态异常测试（5个）

#### 4. test_state_001 - 多玩家状态同步测试

**功能模块**：状态异常  
**测试目标**：验证多玩家游戏中状态的同步性  
**测试描述**：使用preset加载多玩家复杂交互场景，验证各玩家状态一致性  
**验证内容**：所有玩家状态正确更新，无状态冲突

#### 5. test_state_002 - 特殊状态记录准确性测试

**功能模块**：状态异常  
**测试目标**：验证财神状态的正确记录  
**测试描述**：使用preset加载财神状态组合，验证JSON记录准确性  
**验证内容**：buff字段中财神状态值准确，递减计算正确

#### 6. test_state_003 - 房产所有权一致性测试

**功能模块**：状态异常  
**测试目标**：验证房产所有权与玩家状态的一致性  
**测试描述**：使用preset加载房产买卖场景，验证所有权信息一致性  
**验证内容**：houses中的owner与玩家状态完全一致

#### 7. test_state_004 - 破产后房产自动回收测试

**功能模块**：状态异常  
**测试目标**：验证玩家破产后房产自动回收机制  
**测试描述**：使用preset加载破产场景，验证房产清理机制  
**验证内容**：破产玩家的所有房产从houses中移除

#### 8. test_state_005 - 回合信息准确维护测试

**功能模块**：状态异常  
**测试目标**：验证回合信息的准确维护和更新  
**测试描述**：使用preset加载复杂回合场景，验证回合信息准确性  
**验证内容**：now_player和next_player信息完全正确

---

### 三、大量道具场景测试（6个）

#### 9. test_special_001 - 地图道具密集分布测试

**功能模块**：特殊场景  
**测试目标**：验证地图上同时存在大量路障的处理  
**测试描述**：多个玩家在地图上放置大量道具的复杂场景  
**验证内容**：所有道具正确记录，地图状态准确，性能稳定

#### 10. test_special_002 - 多玩家道具上限测试

**功能模块**：特殊场景  
**测试目标**：验证多个玩家同时拥有接近10个道具的状态  
**测试描述**：所有玩家都接近道具上限的游戏状态  
**验证内容**：每个玩家道具数量准确，总计算正确

#### 11. test_special_003 - 机器娃娃大范围清除测试

**功能模块**：特殊场景  
**测试目标**：验证机器娃娃清除大量道具的效果  
**测试描述**：在道具密集区域使用机器娃娃清除的效果  
**验证内容**：指定范围内所有道具被清除，地图状态正确更新

#### 12. test_special_004 - 机器娃娃清除路径中路障测试

**功能模块**：特殊场景  
**测试目标**：验证机器娃娃清除前方路径中的路障道具  
**测试描述**：使用preset加载玩家前方10步内有多个路障的状态，使用机器娃娃清除  
**验证内容**：前方10步内所有路障被清除，机器娃娃消耗，placed_prop中路障记录清空

#### 13. test_special_005 - 公园位置特殊状态测试

**功能模块**：特殊场景  
**测试目标**：验证玩家在公园位置的特殊状态处理  
**测试描述**：使用preset加载玩家在公园位置的状态  
**验证内容**：玩家在公园位置状态正确记录

#### 14. test_special_006 - 路障密集阻挡测试

**功能模块**：特殊场景  
**测试目标**：验证路障密集区域的移动限制效果  
**测试描述**：玩家在路障密集区域的移动和阻挡效果  
**验证内容**：移动被正确阻挡，路障效果准确，位置更新正确

---

### 四、极端游戏状态测试（3个）

#### 15. test_extreme_001 - 地产垄断场景测试

**功能模块**：极端状态  
**测试目标**：验证一个玩家拥有大部分地产的垄断场景  
**测试描述**：单个玩家拥有多数房产且全部高等级的状态  
**验证内容**：房产所有权正确，过路费计算准确，游戏平衡性

#### 16. test_extreme_003 - 全地产最高等级测试

**功能模块**：极端状态  
**测试目标**：验证房产全部升级到最高等级的高收益场景  
**测试描述**：地图上大部分房产都是3级摩天楼的状态  
**验证内容**：过路费计算正确，游戏平衡稳定，状态记录准确

#### 17. test_extreme_004 - 快速房产交易测试

**功能模块**：极端状态  
**测试目标**：验证快速连续的房产买卖操作处理  
**测试描述**：玩家在一个回合内进行多次房产买卖的场景  
**验证内容**：所有交易正确处理，资金计算准确，房产状态正确

---

### 五、压力边界测试（3个）

#### 18. test_stress_001 - JSON复杂度极限测试

**功能模块**：压力测试  
**测试目标**：验证JSON数据结构的复杂度处理极限  
**测试描述**：包含大量玩家、房产、道具的复杂JSON状态  
**验证内容**：JSON结构完整，序列化正确，数据无丢失

#### 19. test_stress_002 - 游戏状态最大复杂度测试

**功能模块**：压力测试  
**测试目标**：验证游戏状态的最大复杂度处理能力  
**测试描述**：四人满员、满地产、满道具的最复杂游戏状态  
**验证内容**：所有状态正确维护，计算准确，性能稳定

#### 20. test_stress_004 - 破产玩家拥有大量房产测试

**功能模块**：压力测试  
**测试目标**：验证拥有大量房产的玩家破产后的房产回收处理  
**测试描述**：使用preset加载玩家拥有20个以上房产但即将破产的状态，执行导致破产的操作  
**验证内容**：玩家破产后所有房产从houses中清除，房产数量庞大但处理正确

---

## 📈 测试类别优先级

### 高优先级（核心功能保障）
1. **状态异常测试**（5个）- 确保游戏状态的准确性和一致性
2. **复杂交互测试**（3个）- 验证道具系统的基本规则

### 中优先级（质量提升）
3. **大量道具场景测试**（6个）- 验证复杂场景下的系统稳定性
4. **极端游戏状态测试**（3个）- 验证边界条件和游戏平衡

### 低优先级（压力测试）
5. **压力边界测试**（3个）- 验证系统极限处理能力

---

## ✅ 已排除的测试用例（30个）

以下测试用例因涉及已禁用功能（魔法屋、监狱、医院、炸弹）而不再需要：

### 回合切换机制（13个）
- test_turn_002 ~ test_turn_005（住院、坐牢状态相关）
- test_turn_008, test_turn_008a（财神+住院/坐牢组合）
- test_turn_008b ~ test_turn_008g（炸弹优先级相关）
- test_turn_013（多人连续跳过 - 涉及住院坐牢）

### 购买询问机制（4个）
- test_auto_013, test_auto_014, test_auto_016（医院、监狱、魔法屋相关）
- test_auto_019（炸弹相关）

### 特殊状态交互（5个）
- test_status_002, test_status_003, test_status_005, test_status_006, test_status_008

### 复杂交互（3个）
- test_interaction_005, test_interaction_006, test_interaction_010（医院、监狱相关）

### 极端游戏状态（3个）
- test_extreme_002, test_extreme_005, test_extreme_006（涉及住院坐牢状态）

### 压力边界（2个）
- test_stress_003, test_stress_005（住院状态相关）

---

## 📝 备注

- 本清单基于当前游戏需求调整，已移除魔法屋、监狱、医院、炸弹相关测试
- 剩余20个测试用例专注于核心功能：房产交易、道具系统、状态管理、压力测试
- 建议按优先级顺序逐步补充测试用例
- 所有测试用例应包含：description.txt、preset.json、input.txt、expected_result.json

