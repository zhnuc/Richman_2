# 游戏规则确认问题文档

## 📋 文档说明

本文档用于确认游戏中模糊或不明确的规则，以便准确编写游戏流程测试、边界条件测试和性能压力测试用例。

## 🎯 游戏流程相关问题

### 1. 自动购买/升级判定机制

**问题**：掷骰子后到达空地时的购买流程是什么？

**选项**：
- A. 自动弹出购买询问（如果资金足够）
- B. 需要玩家主动使用buy命令
- C. 其他机制

**当前理解**：根据PDF规则，玩家到达空地后会显示"当前位置是空地，是否购买？"

**需要确认**：
- 是否只有资金足够时才显示购买询问？是的
- 如果资金不足，是否有提示信息？没有提示信息
- 房产升级是否也有类似的自动询问机制？是的

### 2. 回合切换机制

**问题**：玩家回合如何结束和切换？

**当前理解**：玩家完成移动后可能触发各种事件（购买、过路费、道具效果等）

**需要确认**：
- 玩家完成所有操作后是否自动切换到下一玩家？是的，注意购买或使用道具等均在掷骰子之前，掷骰子之后仅能触发购买/升级建筑、支付过路费、道具效果等
- 是否需要玩家主动结束回合？不需要
- 住院/坐牢期间如何处理回合切换？提示：你的住院/坐牢天数还有x天
- 住院/坐牢的玩家是否跳过整个回合？是的

### 3. 游戏结束条件

**问题**：游戏在什么情况下结束？

**当前理解**：玩家资产不足支付过路费时破产

**需要确认**：
- 破产的具体判定条件是什么？扣除过路费后资金小于0（不含等于）
- 玩家是否可以通过出售房产来避免破产？可以，但需要在掷骰子之前
- 是否有其他游戏结束条件（回合数限制、时间限制）？无
- 最后剩余一个玩家时游戏是否立即结束？是的

### 4. 财神和特殊状态机制

**问题**：财神状态的具体作用和持续时间？

**当前理解**：财神状态持续5轮，期间可能免疫某些负面效果

**需要确认**：
- 财神状态具体免疫哪些效果？（过路费、炸弹伤害、住院等）仅仅过路费
- 财神状态是否按回合数递减？持续五个回合
- 多个特殊状态如何叠加处理？各自计算叠加

## 🚧 边界条件相关问题

### 5. 道具放置限制

**问题**：道具（炸弹、路障）的放置限制是什么？

**当前理解**：可以放置在当前位置前后10步范围内

**需要确认**：
- 是否可以放置在起点（位置0）？可以，仅仅以玩家位置为基准前后10步
- 是否可以放置在特殊建筑（医院15、监狱45、道具屋25等）？可以，但位置上不能有人
- 是否可以放置在其他玩家当前位置？不能
- 是否可以在同一位置放置多个道具？不能
- 是否可以放置在自己当前位置？不能

### 6. 特殊建筑交互

**问题**：玩家在特殊状态下的房产交互？

**需要确认**：
- 玩家住院期间，其他玩家经过其房产是否需要支付过路费？不需要
- 玩家坐牢期间，房产收益如何处理？其他玩家不支付过路费
- 特殊状态下玩家是否可以进行房产买卖操作？不能

### 7. 资源和数值限制

**问题**：游戏中各种资源的上限是什么？

**需要确认**：
- 每种道具的最大持有数量？一个玩家拥有的所有道具总数不超过10
- 地图上可同时存在的道具总数限制？不存在，但需要满足放置要求
- 玩家最大资金数有上限吗？无，但int可能会溢出，这一测试先disabled
- 玩家最大点数有上限吗？没有上限
- 房产最高等级是否为3级（摩天楼）？是的

### 8. 输入验证和错误处理

**问题**：无效输入的处理方式？

**需要确认**：
- 输入无效命令时的错误提示格式？  等同于输入无效指令，如在道具屋中输入了Roll，不做任何状态改变，系统提示输入错误，重新等待给出可接受命令
- 参数超出范围时的处理方式？输入命令里的参数超出范围等同于输入无效指令，不做改变但是会有终端提示输入正确命令
- 在不合适的时机使用命令时的反馈？  等同于输入无效指令，如在道具屋中输入了Roll，不做任何状态改变，系统提示输入错误，重新给出可接受命令的提示

## ⚡ 性能测试相关问题

### 9. 性能基准和限制

**问题**：性能测试的目标基准是什么？暂时先不做性能测试

**需要确认**：
- 单局游戏的预期最长时间？
- 单个命令的最大响应时间？
- 游戏支持的最大回合数？
- 内存使用的合理范围？

### 10. 压力测试场景

**问题**：需要测试哪些极端场景？

**需要确认**：
- 是否需要测试大量道具同时存在的场景？可以有
- 是否需要测试频繁存档加载的性能？不考虑
- 是否需要测试长时间连续操作的稳定性？暂时不考虑

## 📝 补充问题

### 11. 地图边界处理

**问题**：位置计算的边界处理？

**需要确认**：
- 位置69+1是否等于位置0（环形地图）？是的
- 负数位置如何处理？不存在
- step命令的最大步数限制？不限

### 12. 存档和恢复机制

**问题**：游戏状态的保存和加载？不考虑，游戏不设置存档功能，只有测试可以载入

**需要确认**：
- preset.json的具体作用和格式要求？三个json文件的格式都是一样的，参考原本就存在的几个测试用例中的json文件
- 游戏过程中是否可以随时存档？不可以
- 存档文件损坏时的处理方式？没有存档保存功能

---

**请在每个问题后面补充答案或修改问题描述，我将根据您的回复编写准确的测试用例。**

*文档创建时间：2025年9月25日*  
*创建人：柏昱彤（测试开发工程师）*
